$COMPILER_PREFIX = "ccache"
system = `uname -s`
machine = `uname -m`
if system =~ /Linux/
  if machine =~ /^arm/
    $COMPILER = "clang++-3.8"
    $COMPILE_FLAGS = "-std=c++1y -pthread -Wall -I. -mfpu=neon -Wno-overloaded-virtual -Werror"
  elsif machine =~ /^x86/ || machine =~ /^amd64/
    #$COMPILER = "clang++-3.8"
    $COMPILE_FLAGS = "-std=c++14 -pthread -Wall -Werror -mavx2 -mbmi2 -I. -Wno-overloaded-virtual"
    $ADDITIONAL_LINK_FLAGS = "-L/opt/gperftools/lib -ltcmalloc_and_profiler"
  else
    puts "Unknown machine #{machine}"
  end
elsif system =~ /Mac OS/ || system =~ /Darwin/
  $COMPILER = "clang++"
  $COMPILE_FLAGS = "-std=c++14 -pthread -Wall -Werror -msse4.2 -I. -stdlib=libc++"
else
  puts "Unknown system #{system}"
end
#$ADDITIONAL_LINK_FLAGS = "-L/usr/local/lib -ltcmalloc_and_profiler"
$BINARIES = ["ntest.exe"]
$TESTS = [ ["ntest.exe", "t"], "randomPlayTest.exe"]
